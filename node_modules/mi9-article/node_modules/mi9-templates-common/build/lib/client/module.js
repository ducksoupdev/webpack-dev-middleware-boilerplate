(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define(factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************************!*\
  !*** ./src/scripts/index.coffee ***!
  \**********************************/
/***/ function(module, exports, __webpack_require__) {

	module.exports = {
	  author: __webpack_require__(/*! ../templates/author */ 1),
	  videoBlock: __webpack_require__(/*! ../templates/video-block */ 4),
	  outbrain: __webpack_require__(/*! ../templates/outbrain */ 5),
	  mediaList: __webpack_require__(/*! ../templates/media-list */ 6),
	  footer: __webpack_require__(/*! ../templates/footer */ 7),
	  storyBlock: __webpack_require__(/*! ../templates/story-block */ 8)
	};


/***/ },
/* 1 */
/*!***********************************!*\
  !*** ./src/templates/author.jade ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	var jade = __webpack_require__(/*! ./~/jade/lib/runtime.js */ 2);
	
	module.exports = function template(locals) {
	var buf = [];
	var jade_mixins = {};
	var jade_interp;
	;var locals_for_with = (locals || {});(function (author, model) {
	var image = model.image;
	var name = model.name;
	if ( author)
	{
	buf.push("<div class=\"author\">");
	if ( image)
	{
	var url = image.url;
	var alt = image.alt;
	buf.push("<span class=\"author__pic\"><img" + (jade.attr("src", url, true, false)) + (jade.attr("alt", alt, true, false)) + "/></span>");
	}
	buf.push("<span>" + (jade.escape(null == (jade_interp = 'By ') ? "" : jade_interp)) + "</span><span class=\"author__name\">" + (null == (jade_interp = name) ? "" : jade_interp) + "</span></div>");
	}}.call(this,"author" in locals_for_with?locals_for_with.author:typeof author!=="undefined"?author:undefined,"model" in locals_for_with?locals_for_with.model:typeof model!=="undefined"?model:undefined));;return buf.join("");
	}

/***/ },
/* 2 */
/*!*******************************!*\
  !*** ./~/jade/lib/runtime.js ***!
  \*******************************/
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	/**
	 * Merge two attribute objects giving precedence
	 * to values in object `b`. Classes are special-cased
	 * allowing for arrays and merging/joining appropriately
	 * resulting in a string.
	 *
	 * @param {Object} a
	 * @param {Object} b
	 * @return {Object} a
	 * @api private
	 */
	
	exports.merge = function merge(a, b) {
	  if (arguments.length === 1) {
	    var attrs = a[0];
	    for (var i = 1; i < a.length; i++) {
	      attrs = merge(attrs, a[i]);
	    }
	    return attrs;
	  }
	  var ac = a['class'];
	  var bc = b['class'];
	
	  if (ac || bc) {
	    ac = ac || [];
	    bc = bc || [];
	    if (!Array.isArray(ac)) ac = [ac];
	    if (!Array.isArray(bc)) bc = [bc];
	    a['class'] = ac.concat(bc).filter(nulls);
	  }
	
	  for (var key in b) {
	    if (key != 'class') {
	      a[key] = b[key];
	    }
	  }
	
	  return a;
	};
	
	/**
	 * Filter null `val`s.
	 *
	 * @param {*} val
	 * @return {Boolean}
	 * @api private
	 */
	
	function nulls(val) {
	  return val != null && val !== '';
	}
	
	/**
	 * join array as classes.
	 *
	 * @param {*} val
	 * @return {String}
	 */
	exports.joinClasses = joinClasses;
	function joinClasses(val) {
	  return (Array.isArray(val) ? val.map(joinClasses) :
	    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :
	    [val]).filter(nulls).join(' ');
	}
	
	/**
	 * Render the given classes.
	 *
	 * @param {Array} classes
	 * @param {Array.<Boolean>} escaped
	 * @return {String}
	 */
	exports.cls = function cls(classes, escaped) {
	  var buf = [];
	  for (var i = 0; i < classes.length; i++) {
	    if (escaped && escaped[i]) {
	      buf.push(exports.escape(joinClasses([classes[i]])));
	    } else {
	      buf.push(joinClasses(classes[i]));
	    }
	  }
	  var text = joinClasses(buf);
	  if (text.length) {
	    return ' class="' + text + '"';
	  } else {
	    return '';
	  }
	};
	
	
	exports.style = function (val) {
	  if (val && typeof val === 'object') {
	    return Object.keys(val).map(function (style) {
	      return style + ':' + val[style];
	    }).join(';');
	  } else {
	    return val;
	  }
	};
	/**
	 * Render the given attribute.
	 *
	 * @param {String} key
	 * @param {String} val
	 * @param {Boolean} escaped
	 * @param {Boolean} terse
	 * @return {String}
	 */
	exports.attr = function attr(key, val, escaped, terse) {
	  if (key === 'style') {
	    val = exports.style(val);
	  }
	  if ('boolean' == typeof val || null == val) {
	    if (val) {
	      return ' ' + (terse ? key : key + '="' + key + '"');
	    } else {
	      return '';
	    }
	  } else if (0 == key.indexOf('data') && 'string' != typeof val) {
	    if (JSON.stringify(val).indexOf('&') !== -1) {
	      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +
	                   'will be escaped to `&amp;`');
	    };
	    if (val && typeof val.toISOString === 'function') {
	      console.warn('Jade will eliminate the double quotes around dates in ' +
	                   'ISO form after 2.0.0');
	    }
	    return ' ' + key + "='" + JSON.stringify(val).replace(/'/g, '&apos;') + "'";
	  } else if (escaped) {
	    if (val && typeof val.toISOString === 'function') {
	      console.warn('Jade will stringify dates in ISO form after 2.0.0');
	    }
	    return ' ' + key + '="' + exports.escape(val) + '"';
	  } else {
	    if (val && typeof val.toISOString === 'function') {
	      console.warn('Jade will stringify dates in ISO form after 2.0.0');
	    }
	    return ' ' + key + '="' + val + '"';
	  }
	};
	
	/**
	 * Render the given attributes object.
	 *
	 * @param {Object} obj
	 * @param {Object} escaped
	 * @return {String}
	 */
	exports.attrs = function attrs(obj, terse){
	  var buf = [];
	
	  var keys = Object.keys(obj);
	
	  if (keys.length) {
	    for (var i = 0; i < keys.length; ++i) {
	      var key = keys[i]
	        , val = obj[key];
	
	      if ('class' == key) {
	        if (val = joinClasses(val)) {
	          buf.push(' ' + key + '="' + val + '"');
	        }
	      } else {
	        buf.push(exports.attr(key, val, false, terse));
	      }
	    }
	  }
	
	  return buf.join('');
	};
	
	/**
	 * Escape the given string of `html`.
	 *
	 * @param {String} html
	 * @return {String}
	 * @api private
	 */
	
	var jade_encode_html_rules = {
	  '&': '&amp;',
	  '<': '&lt;',
	  '>': '&gt;',
	  '"': '&quot;'
	};
	var jade_match_html = /[&<>"]/g;
	
	function jade_encode_char(c) {
	  return jade_encode_html_rules[c] || c;
	}
	
	exports.escape = jade_escape;
	function jade_escape(html){
	  var result = String(html).replace(jade_match_html, jade_encode_char);
	  if (result === '' + html) return html;
	  else return result;
	};
	
	/**
	 * Re-throw the given `err` in context to the
	 * the jade in `filename` at the given `lineno`.
	 *
	 * @param {Error} err
	 * @param {String} filename
	 * @param {String} lineno
	 * @api private
	 */
	
	exports.rethrow = function rethrow(err, filename, lineno, str){
	  if (!(err instanceof Error)) throw err;
	  if ((typeof window != 'undefined' || !filename) && !str) {
	    err.message += ' on line ' + lineno;
	    throw err;
	  }
	  try {
	    str = str || __webpack_require__(/*! fs */ 3).readFileSync(filename, 'utf8')
	  } catch (ex) {
	    rethrow(err, null, lineno)
	  }
	  var context = 3
	    , lines = str.split('\n')
	    , start = Math.max(lineno - context, 0)
	    , end = Math.min(lines.length, lineno + context);
	
	  // Error context
	  var context = lines.slice(start, end).map(function(line, i){
	    var curr = i + start + 1;
	    return (curr == lineno ? '  > ' : '    ')
	      + curr
	      + '| '
	      + line;
	  }).join('\n');
	
	  // Alter exception message
	  err.path = filename;
	  err.message = (filename || 'Jade') + ':' + lineno
	    + '\n' + context + '\n\n' + err.message;
	  throw err;
	};
	
	exports.DebugItem = function DebugItem(lineno, filename) {
	  this.lineno = lineno;
	  this.filename = filename;
	}


/***/ },
/* 3 */
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ function(module, exports) {

	/* (ignored) */

/***/ },
/* 4 */
/*!****************************************!*\
  !*** ./src/templates/video-block.jade ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	var jade = __webpack_require__(/*! ./~/jade/lib/runtime.js */ 2);
	
	module.exports = function template(locals) {
	var buf = [];
	var jade_mixins = {};
	var jade_interp;
	;var locals_for_with = (locals || {});(function (model, partials) {
	buf.push("<div data-module=\"video\"" + (jade.attr("data-video", model.urn, true, false)) + " data-category-name=\"MSNVideo_Cat\" data-category-value=\"ausydney\" class=\"video-block module\"><div" + (jade.attr("id", model.videoId, true, false)) + " class=\"video-block__player\"></div><div class=\"video-block__image\">");
	if ( model.media)
	{
	buf.push(null == (jade_interp = partials.imageResizer({model: model.media})) ? "" : jade_interp);
	}
	buf.push("</div><div class=\"play\"></div></div>");}.call(this,"model" in locals_for_with?locals_for_with.model:typeof model!=="undefined"?model:undefined,"partials" in locals_for_with?locals_for_with.partials:typeof partials!=="undefined"?partials:undefined));;return buf.join("");
	}

/***/ },
/* 5 */
/*!*************************************!*\
  !*** ./src/templates/outbrain.jade ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	var jade = __webpack_require__(/*! ./~/jade/lib/runtime.js */ 2);
	
	module.exports = function template(locals) {
	var buf = [];
	var jade_mixins = {};
	var jade_interp;
	;var locals_for_with = (locals || {});(function (model) {
	buf.push("<div" + (jade.attr("data-src", model.url, true, false)) + (jade.attr("data-widget-id", model.widgetId, true, false)) + (jade.attr("data-ob-template", model.obTemplate, true, false)) + " class=\"OUTBRAIN\"></div><script type=\"text/javascript\" async=\"async\" src=\"http://widgets.outbrain.com/outbrain.js\"></script>");}.call(this,"model" in locals_for_with?locals_for_with.model:typeof model!=="undefined"?model:undefined));;return buf.join("");
	}

/***/ },
/* 6 */
/*!***************************************!*\
  !*** ./src/templates/media-list.jade ***!
  \***************************************/
/***/ function(module, exports, __webpack_require__) {

	var jade = __webpack_require__(/*! ./~/jade/lib/runtime.js */ 2);
	
	module.exports = function template(locals) {
	var buf = [];
	var jade_mixins = {};
	var jade_interp;
	;var locals_for_with = (locals || {});(function (headerAccessoryLink, headerContentLink, headerLink, includePartial, items, title, trackingName, undefined, widgetClass) {
	jade_mixins["headerContentLink"] = jade_interp = function(){
	var block = (this && this.block), attributes = (this && this.attributes) || {};
	if ( headerContentLink)
	{
	buf.push("<a" + (jade.attr("href", headerContentLink, true, false)) + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-header", true, false)) + "><h3 class=\"widget__header__text\">" + (jade.escape(null == (jade_interp = title) ? "" : jade_interp)) + "</h3></a>");
	}
	else
	{
	buf.push("<h3 class=\"widget__header__text\">" + (jade.escape(null == (jade_interp = title) ? "" : jade_interp)) + "</h3>");
	}
	};
	jade_mixins["headerAccessoryLink"] = jade_interp = function(){
	var block = (this && this.block), attributes = (this && this.attributes) || {};
	if ( headerAccessoryLink)
	{
	buf.push("<a" + (jade.attr("href", headerAccessoryLink, true, false)) + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-header", true, false)) + "><div class=\"widget__header__accessory\"></div></a>");
	}
	else
	{
	buf.push("<div class=\"widget__header__accessory\"></div>");
	}
	};
	jade_mixins["headerLink"] = jade_interp = function(){
	var block = (this && this.block), attributes = (this && this.attributes) || {};
	if ( headerLink)
	{
	buf.push("<a" + (jade.attr("href", headerLink, true, false)) + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-header", true, false)) + "><div class=\"widget__header\">");
	jade_mixins["headerContentLink"]();
	jade_mixins["headerAccessoryLink"]();
	buf.push("</div></a>");
	}
	else
	{
	buf.push("<div class=\"widget__header\">");
	jade_mixins["headerContentLink"]();
	jade_mixins["headerAccessoryLink"]();
	buf.push("</div>");
	}
	};
	buf.push("<div data-module=\"decorators/trackingDecorator\"" + (jade.cls(['widget','media-list','module',widgetClass], [null,null,null,true])) + ">");
	jade_mixins["headerLink"]();
	// iterate items
	;(function(){
	  var $$obj = items;
	  if ('number' == typeof $$obj.length) {
	
	    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {
	      var item = $$obj[index];
	
	var imageLink = item.imageLink;
	var link = item.link;
	var heading = item.heading;
	var text = item.text;
	var media = item.image;
	buf.push("<div class=\"media-block\">");
	if ( imageLink)
	{
	buf.push("<a" + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-" + (index) + "", true, false)) + (jade.attr("href", imageLink, true, false)) + " class=\"media-block__link\"><div class=\"media-block__media\">" + (null == (jade_interp = includePartial('image-resizer-figure--ext', {media: media})) ? "" : jade_interp) + "</div></a>");
	}
	else
	{
	buf.push("<div class=\"media-block__media\">" + (null == (jade_interp = includePartial('image-resizer-figure--ext', {media: media})) ? "" : jade_interp) + "</div>");
	}
	if ( link)
	{
	buf.push("<a" + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-" + (index) + "", true, false)) + (jade.attr("href", link, true, false)) + " class=\"media-block__link\"><div class=\"media-block__body\"><h3 class=\"media-block__heading\">" + (jade.escape(null == (jade_interp = heading) ? "" : jade_interp)) + "</h3><p class=\"media-block__text\">" + (jade.escape(null == (jade_interp = text) ? "" : jade_interp)) + "</p></div></a>");
	}
	buf.push("</div>");
	    }
	
	  } else {
	    var $$l = 0;
	    for (var index in $$obj) {
	      $$l++;      var item = $$obj[index];
	
	var imageLink = item.imageLink;
	var link = item.link;
	var heading = item.heading;
	var text = item.text;
	var media = item.image;
	buf.push("<div class=\"media-block\">");
	if ( imageLink)
	{
	buf.push("<a" + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-" + (index) + "", true, false)) + (jade.attr("href", imageLink, true, false)) + " class=\"media-block__link\"><div class=\"media-block__media\">" + (null == (jade_interp = includePartial('image-resizer-figure--ext', {media: media})) ? "" : jade_interp) + "</div></a>");
	}
	else
	{
	buf.push("<div class=\"media-block__media\">" + (null == (jade_interp = includePartial('image-resizer-figure--ext', {media: media})) ? "" : jade_interp) + "</div>");
	}
	if ( link)
	{
	buf.push("<a" + (jade.attr("data-tracking-link-name", "" + (trackingName) + "-" + (index) + "", true, false)) + (jade.attr("href", link, true, false)) + " class=\"media-block__link\"><div class=\"media-block__body\"><h3 class=\"media-block__heading\">" + (jade.escape(null == (jade_interp = heading) ? "" : jade_interp)) + "</h3><p class=\"media-block__text\">" + (jade.escape(null == (jade_interp = text) ? "" : jade_interp)) + "</p></div></a>");
	}
	buf.push("</div>");
	    }
	
	  }
	}).call(this);
	
	buf.push("</div>");}.call(this,"headerAccessoryLink" in locals_for_with?locals_for_with.headerAccessoryLink:typeof headerAccessoryLink!=="undefined"?headerAccessoryLink:undefined,"headerContentLink" in locals_for_with?locals_for_with.headerContentLink:typeof headerContentLink!=="undefined"?headerContentLink:undefined,"headerLink" in locals_for_with?locals_for_with.headerLink:typeof headerLink!=="undefined"?headerLink:undefined,"includePartial" in locals_for_with?locals_for_with.includePartial:typeof includePartial!=="undefined"?includePartial:undefined,"items" in locals_for_with?locals_for_with.items:typeof items!=="undefined"?items:undefined,"title" in locals_for_with?locals_for_with.title:typeof title!=="undefined"?title:undefined,"trackingName" in locals_for_with?locals_for_with.trackingName:typeof trackingName!=="undefined"?trackingName:undefined,"undefined" in locals_for_with?locals_for_with.undefined: false?undefined:undefined,"widgetClass" in locals_for_with?locals_for_with.widgetClass:typeof widgetClass!=="undefined"?widgetClass:undefined));;return buf.join("");
	}

/***/ },
/* 7 */
/*!***********************************!*\
  !*** ./src/templates/footer.jade ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	var jade = __webpack_require__(/*! ./~/jade/lib/runtime.js */ 2);
	
	module.exports = function template(locals) {
	var buf = [];
	var jade_mixins = {};
	var jade_interp;
	;var locals_for_with = (locals || {});(function (facebookUrl, includePartial, links, twitterUrl, undefined) {
	jade_mixins["galleryAd"] = jade_interp = function(){
	var block = (this && this.block), attributes = (this && this.attributes) || {};
	buf.push("<div class=\"gallery__utility-ad\">" + (null == (jade_interp = includePartial('ad--ext', {adType: 'MEDIUM', location: 'TOP.1', classes: 'module', moduleDecorator: 'default.ad', moduleId: 'default.footer.ad', minWidth: '768'})) ? "" : jade_interp) + "</div>");
	};
	buf.push("<div id=\"footer\" data-module=\"decorators/trackingDecorator\" class=\"footer__container module\"><div data-module=\"decorators/fixedFooterDecorator\" data-anchor=\"#footer\" class=\"footer module\">");
	jade_mixins["galleryAd"]();
	buf.push("<div class=\"footer__header\"><a href=\"/\" data-tracking-link-name=\"footer_logo\" class=\"footer__logo\"></a><a target=\"_blank\"" + (jade.attr("href", facebookUrl, true, false)) + " data-tracking-link-name=\"footer_facebook\" class=\"footer__link__facebook\"></a><a target=\"_blank\"" + (jade.attr("href", twitterUrl, true, false)) + " data-tracking-link-name=\"footer_twitter\" class=\"footer__link__twitter\"></a></div><div class=\"footer__links\"><ul class=\"footer__list\">");
	// iterate links
	;(function(){
	  var $$obj = links;
	  if ('number' == typeof $$obj.length) {
	
	    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {
	      var link = $$obj[index];
	
	buf.push("<li class=\"footer__item\"><a" + (jade.attr("href", link.url, true, false)) + (jade.attr("title", link._name, true, false)) + " target=\"_blank\"" + (jade.attr("data-tracking-link-name", "footer-" + (index) + "", true, false)) + ">" + (jade.escape((jade_interp = link._name) == null ? '' : jade_interp)) + "</a></li>");
	    }
	
	  } else {
	    var $$l = 0;
	    for (var index in $$obj) {
	      $$l++;      var link = $$obj[index];
	
	buf.push("<li class=\"footer__item\"><a" + (jade.attr("href", link.url, true, false)) + (jade.attr("title", link._name, true, false)) + " target=\"_blank\"" + (jade.attr("data-tracking-link-name", "footer-" + (index) + "", true, false)) + ">" + (jade.escape((jade_interp = link._name) == null ? '' : jade_interp)) + "</a></li>");
	    }
	
	  }
	}).call(this);
	
	buf.push("</ul><a href=\"#\" data-tracking-link-name=\"footer_backtotop\" class=\"footer__top-link\"><div class=\"footer__top-link--icon\"></div></a></div></div></div>");}.call(this,"facebookUrl" in locals_for_with?locals_for_with.facebookUrl:typeof facebookUrl!=="undefined"?facebookUrl:undefined,"includePartial" in locals_for_with?locals_for_with.includePartial:typeof includePartial!=="undefined"?includePartial:undefined,"links" in locals_for_with?locals_for_with.links:typeof links!=="undefined"?links:undefined,"twitterUrl" in locals_for_with?locals_for_with.twitterUrl:typeof twitterUrl!=="undefined"?twitterUrl:undefined,"undefined" in locals_for_with?locals_for_with.undefined: false?undefined:undefined));;return buf.join("");
	}

/***/ },
/* 8 */
/*!****************************************!*\
  !*** ./src/templates/story-block.jade ***!
  \****************************************/
/***/ function(module, exports, __webpack_require__) {

	var jade = __webpack_require__(/*! ./~/jade/lib/runtime.js */ 2);
	
	module.exports = function template(locals) {
	var buf = [];
	var jade_mixins = {};
	var jade_interp;
	;var locals_for_with = (locals || {});(function (clamp, includePartial, kicker, settings, storyBlock) {
	buf.push("<div" + (jade.attr("data-content-id", storyBlock.id, true, false)) + (jade.cls(['storyblock',!storyBlock.image ? 'has-no-image' : ''], [null,true])) + ">");
	if ( storyBlock.image)
	{
	buf.push("<a" + (jade.attr("href", "" + (storyBlock.link) + "", true, false)) + (jade.attr("data-tracking-link-name", "feed_" + (storyBlock.templateName) + "_image", true, false)) + (jade.cls(["story-block__image hero " + (storyBlock.templateName) + " " + (storyBlock.portraitClasses) + " " + (storyBlock.portraitHero) + ""], [true])) + ">");
	if ( kicker)
	{
	buf.push("<div class=\"story-block__kicker-outer\"><div class=\"story-block__kicker\"></div></div>");
	}
	buf.push((null == (jade_interp = includePartial('image-resizer-figure--ext', {media: storyBlock.image})) ? "" : jade_interp) + "</a>");
	}
	buf.push("<div" + (jade.cls(['text-wrapper',clamp], [null,true])) + "><a" + (jade.attr("href", "" + (storyBlock.link) + "", true, false)) + (jade.attr("data-tracking-link-name", "feed_" + (storyBlock.templateName) + "_headine", true, false)) + " class=\"heading-link\">");
	if ( !storyBlock.image && storyBlock.kicker)
	{
	buf.push("<div class=\"story-block__kicker-outer\"><div class=\"story-block__kicker\">" + (null == (jade_interp = storyBlock.kicker) ? "" : jade_interp) + "</div></div>");
	}
	buf.push("<div class=\"story-block__headline\">" + (null == (jade_interp = storyBlock.headline) ? "" : jade_interp) + "</div></a><p class=\"story-block__standfirst\">" + (null == (jade_interp = storyBlock.standfirst) ? "" : jade_interp) + "</p></div><div class=\"story-block__byline\">");
	if ( storyBlock.sectionTag)
	{
	buf.push("<div class=\"story-block__section-tag\">" + (null == (jade_interp = storyBlock.sectionTag) ? "" : jade_interp) + "</div>");
	}
	if ( storyBlock.author)
	{
	buf.push("<div class=\"author\"><span>By</span><span class=\"author__name\">" + (null == (jade_interp = storyBlock.author) ? "" : jade_interp) + "</span></div>");
	}
	buf.push("<span class=\"story-block__time time\">");
	if ( storyBlock.displayTime)
	{
	buf.push(null == (jade_interp = storyBlock.displayTime) ? "" : jade_interp);
	}
	buf.push("</span>");
	if ( settings.enableGigyaSharingButtons)
	{
	buf.push("<div class=\"story-block__share share--simple\">");
	storyBlock.isTakeover = true
	buf.push((null == (jade_interp = includePartial('share--ext', {content: storyBlock})) ? "" : jade_interp) + "</div>");
	}
	buf.push("</div></div>");}.call(this,"clamp" in locals_for_with?locals_for_with.clamp:typeof clamp!=="undefined"?clamp:undefined,"includePartial" in locals_for_with?locals_for_with.includePartial:typeof includePartial!=="undefined"?includePartial:undefined,"kicker" in locals_for_with?locals_for_with.kicker:typeof kicker!=="undefined"?kicker:undefined,"settings" in locals_for_with?locals_for_with.settings:typeof settings!=="undefined"?settings:undefined,"storyBlock" in locals_for_with?locals_for_with.storyBlock:typeof storyBlock!=="undefined"?storyBlock:undefined));;return buf.join("");
	}

/***/ }
/******/ ])
});
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYm93ZXJfY29tcG9uZW50cy9taTktdGVtcGxhdGVzLWNvbW1vbi93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vL2Jvd2VyX2NvbXBvbmVudHMvbWk5LXRlbXBsYXRlcy1jb21tb24vd2VicGFjay9ib290c3RyYXAgZGUzYWY0ZGNjNTQ5ODAwNGJhZjMiLCJ3ZWJwYWNrOi8vL2Jvd2VyX2NvbXBvbmVudHMvbWk5LXRlbXBsYXRlcy1jb21tb24vLi9zcmMvc2NyaXB0cy9pbmRleC5jb2ZmZWUiLCJ3ZWJwYWNrOi8vL2Jvd2VyX2NvbXBvbmVudHMvbWk5LXRlbXBsYXRlcy1jb21tb24vLi9zcmMvdGVtcGxhdGVzL2F1dGhvci5qYWRlIiwid2VicGFjazovLy9ib3dlcl9jb21wb25lbnRzL21pOS10ZW1wbGF0ZXMtY29tbW9uLy4vfi9qYWRlL2xpYi9ydW50aW1lLmpzIiwid2VicGFjazovLy9ib3dlcl9jb21wb25lbnRzL21pOS10ZW1wbGF0ZXMtY29tbW9uL2ZzIChpZ25vcmVkKSIsIndlYnBhY2s6Ly8vYm93ZXJfY29tcG9uZW50cy9taTktdGVtcGxhdGVzLWNvbW1vbi8uL3NyYy90ZW1wbGF0ZXMvdmlkZW8tYmxvY2suamFkZSIsIndlYnBhY2s6Ly8vYm93ZXJfY29tcG9uZW50cy9taTktdGVtcGxhdGVzLWNvbW1vbi8uL3NyYy90ZW1wbGF0ZXMvb3V0YnJhaW4uamFkZSIsIndlYnBhY2s6Ly8vYm93ZXJfY29tcG9uZW50cy9taTktdGVtcGxhdGVzLWNvbW1vbi8uL3NyYy90ZW1wbGF0ZXMvbWVkaWEtbGlzdC5qYWRlIiwid2VicGFjazovLy9ib3dlcl9jb21wb25lbnRzL21pOS10ZW1wbGF0ZXMtY29tbW9uLy4vc3JjL3RlbXBsYXRlcy9mb290ZXIuamFkZSIsIndlYnBhY2s6Ly8vYm93ZXJfY29tcG9uZW50cy9taTktdGVtcGxhdGVzLWNvbW1vbi8uL3NyYy90ZW1wbGF0ZXMvc3RvcnktYmxvY2su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ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBkZTNhZjRkY2M1NDk4MDA0YmFmM1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID1cbiAgICBhdXRob3I6IHJlcXVpcmUgJy4uL3RlbXBsYXRlcy9hdXRob3InXG4gICAgdmlkZW9CbG9jazogcmVxdWlyZSAnLi4vdGVtcGxhdGVzL3ZpZGVvLWJsb2NrJ1xuICAgIG91dGJyYWluOiByZXF1aXJlICcuLi90ZW1wbGF0ZXMvb3V0YnJhaW4nXG4gICAgbWVkaWFMaXN0OiByZXF1aXJlICcuLi90ZW1wbGF0ZXMvbWVkaWEtbGlzdCdcbiAgICBmb290ZXI6IHJlcXVpcmUgJy4uL3RlbXBsYXRlcy9mb290ZXInXG4gICAgc3RvcnlCbG9jazogcmVxdWlyZSAnLi4vdGVtcGxhdGVzL3N0b3J5LWJsb2NrJ1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9jb2ZmZWVsaW50LWxvYWRlciEuL3NyYy9zY3JpcHRzL2luZGV4LmNvZmZlZVxuICoqLyIsInZhciBqYWRlID0gcmVxdWlyZShcIi9Vc2Vycy9zdGV2ZS9Qcm9qZWN0cy9NaTkvbW9kdWxlcy9taTktdGVtcGxhdGVzLWNvbW1vbi9ub2RlX21vZHVsZXMvamFkZS9saWIvcnVudGltZS5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGF1dGhvciwgbW9kZWwpIHtcbnZhciBpbWFnZSA9IG1vZGVsLmltYWdlO1xudmFyIG5hbWUgPSBtb2RlbC5uYW1lO1xuaWYgKCBhdXRob3IpXG57XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImF1dGhvclxcXCI+XCIpO1xuaWYgKCBpbWFnZSlcbntcbnZhciB1cmwgPSBpbWFnZS51cmw7XG52YXIgYWx0ID0gaW1hZ2UuYWx0O1xuYnVmLnB1c2goXCI8c3BhbiBjbGFzcz1cXFwiYXV0aG9yX19waWNcXFwiPjxpbWdcIiArIChqYWRlLmF0dHIoXCJzcmNcIiwgdXJsLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImFsdFwiLCBhbHQsIHRydWUsIGZhbHNlKSkgKyBcIi8+PC9zcGFuPlwiKTtcbn1cbmJ1Zi5wdXNoKFwiPHNwYW4+XCIgKyAoamFkZS5lc2NhcGUobnVsbCA9PSAoamFkZV9pbnRlcnAgPSAnQnkgJykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJhdXRob3JfX25hbWVcXFwiPlwiICsgKG51bGwgPT0gKGphZGVfaW50ZXJwID0gbmFtZSkgPyBcIlwiIDogamFkZV9pbnRlcnApICsgXCI8L3NwYW4+PC9kaXY+XCIpO1xufX0uY2FsbCh0aGlzLFwiYXV0aG9yXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5hdXRob3I6dHlwZW9mIGF1dGhvciE9PVwidW5kZWZpbmVkXCI/YXV0aG9yOnVuZGVmaW5lZCxcIm1vZGVsXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5tb2RlbDp0eXBlb2YgbW9kZWwhPT1cInVuZGVmaW5lZFwiP21vZGVsOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy90ZW1wbGF0ZXMvYXV0aG9yLmphZGVcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTWVyZ2UgdHdvIGF0dHJpYnV0ZSBvYmplY3RzIGdpdmluZyBwcmVjZWRlbmNlXG4gKiB0byB2YWx1ZXMgaW4gb2JqZWN0IGBiYC4gQ2xhc3NlcyBhcmUgc3BlY2lhbC1jYXNlZFxuICogYWxsb3dpbmcgZm9yIGFycmF5cyBhbmQgbWVyZ2luZy9qb2luaW5nIGFwcHJvcHJpYXRlbHlcbiAqIHJlc3VsdGluZyBpbiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEByZXR1cm4ge09iamVjdH0gYVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICB2YXIgYXR0cnMgPSBhWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgYXR0cnMgPSBtZXJnZShhdHRycywgYVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbiAgfVxuICB2YXIgYWMgPSBhWydjbGFzcyddO1xuICB2YXIgYmMgPSBiWydjbGFzcyddO1xuXG4gIGlmIChhYyB8fCBiYykge1xuICAgIGFjID0gYWMgfHwgW107XG4gICAgYmMgPSBiYyB8fCBbXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWMpKSBhYyA9IFthY107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJjKSkgYmMgPSBbYmNdO1xuICAgIGFbJ2NsYXNzJ10gPSBhYy5jb25jYXQoYmMpLmZpbHRlcihudWxscyk7XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gYikge1xuICAgIGlmIChrZXkgIT0gJ2NsYXNzJykge1xuICAgICAgYVtrZXldID0gYltrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufTtcblxuLyoqXG4gKiBGaWx0ZXIgbnVsbCBgdmFsYHMuXG4gKlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBudWxscyh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPSBudWxsICYmIHZhbCAhPT0gJyc7XG59XG5cbi8qKlxuICogam9pbiBhcnJheSBhcyBjbGFzc2VzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMuam9pbkNsYXNzZXMgPSBqb2luQ2xhc3NlcztcbmZ1bmN0aW9uIGpvaW5DbGFzc2VzKHZhbCkge1xuICByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbC5tYXAoam9pbkNsYXNzZXMpIDpcbiAgICAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSA/IE9iamVjdC5rZXlzKHZhbCkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHZhbFtrZXldOyB9KSA6XG4gICAgW3ZhbF0pLmZpbHRlcihudWxscykuam9pbignICcpO1xufVxuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjbGFzc2VzXG4gKiBAcGFyYW0ge0FycmF5LjxCb29sZWFuPn0gZXNjYXBlZFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmNscyA9IGZ1bmN0aW9uIGNscyhjbGFzc2VzLCBlc2NhcGVkKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGVzY2FwZWQgJiYgZXNjYXBlZFtpXSkge1xuICAgICAgYnVmLnB1c2goZXhwb3J0cy5lc2NhcGUoam9pbkNsYXNzZXMoW2NsYXNzZXNbaV1dKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYucHVzaChqb2luQ2xhc3NlcyhjbGFzc2VzW2ldKSk7XG4gICAgfVxuICB9XG4gIHZhciB0ZXh0ID0gam9pbkNsYXNzZXMoYnVmKTtcbiAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcgY2xhc3M9XCInICsgdGV4dCArICdcIic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5cbmV4cG9ydHMuc3R5bGUgPSBmdW5jdGlvbiAodmFsKSB7XG4gIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsKS5tYXAoZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICByZXR1cm4gc3R5bGUgKyAnOicgKyB2YWxbc3R5bGVdO1xuICAgIH0pLmpvaW4oJzsnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59O1xuLyoqXG4gKiBSZW5kZXIgdGhlIGdpdmVuIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGVzY2FwZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdGVyc2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0cy5hdHRyID0gZnVuY3Rpb24gYXR0cihrZXksIHZhbCwgZXNjYXBlZCwgdGVyc2UpIHtcbiAgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgIHZhbCA9IGV4cG9ydHMuc3R5bGUodmFsKTtcbiAgfVxuICBpZiAoJ2Jvb2xlYW4nID09IHR5cGVvZiB2YWwgfHwgbnVsbCA9PSB2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gJyAnICsgKHRlcnNlID8ga2V5IDoga2V5ICsgJz1cIicgKyBrZXkgKyAnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSBlbHNlIGlmICgwID09IGtleS5pbmRleE9mKCdkYXRhJykgJiYgJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkge1xuICAgIGlmIChKU09OLnN0cmluZ2lmeSh2YWwpLmluZGV4T2YoJyYnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnNvbGUud2FybignU2luY2UgSmFkZSAyLjAuMCwgYW1wZXJzYW5kcyAoYCZgKSBpbiBkYXRhIGF0dHJpYnV0ZXMgJyArXG4gICAgICAgICAgICAgICAgICAgJ3dpbGwgYmUgZXNjYXBlZCB0byBgJmFtcDtgJyk7XG4gICAgfTtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwudG9JU09TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybignSmFkZSB3aWxsIGVsaW1pbmF0ZSB0aGUgZG91YmxlIHF1b3RlcyBhcm91bmQgZGF0ZXMgaW4gJyArXG4gICAgICAgICAgICAgICAgICAgJ0lTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyBcIj0nXCIgKyBKU09OLnN0cmluZ2lmeSh2YWwpLnJlcGxhY2UoLycvZywgJyZhcG9zOycpICsgXCInXCI7XG4gIH0gZWxzZSBpZiAoZXNjYXBlZCkge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b0lTT1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKCdKYWRlIHdpbGwgc3RyaW5naWZ5IGRhdGVzIGluIElTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIGV4cG9ydHMuZXNjYXBlKHZhbCkgKyAnXCInO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b0lTT1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS53YXJuKCdKYWRlIHdpbGwgc3RyaW5naWZ5IGRhdGVzIGluIElTTyBmb3JtIGFmdGVyIDIuMC4wJyk7XG4gICAgfVxuICAgIHJldHVybiAnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIic7XG4gIH1cbn07XG5cbi8qKlxuICogUmVuZGVyIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge09iamVjdH0gZXNjYXBlZFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmF0dHJzID0gZnVuY3Rpb24gYXR0cnMob2JqLCB0ZXJzZSl7XG4gIHZhciBidWYgPSBbXTtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXVxuICAgICAgICAsIHZhbCA9IG9ialtrZXldO1xuXG4gICAgICBpZiAoJ2NsYXNzJyA9PSBrZXkpIHtcbiAgICAgICAgaWYgKHZhbCA9IGpvaW5DbGFzc2VzKHZhbCkpIHtcbiAgICAgICAgICBidWYucHVzaCgnICcgKyBrZXkgKyAnPVwiJyArIHZhbCArICdcIicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidWYucHVzaChleHBvcnRzLmF0dHIoa2V5LCB2YWwsIGZhbHNlLCB0ZXJzZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYuam9pbignJyk7XG59O1xuXG4vKipcbiAqIEVzY2FwZSB0aGUgZ2l2ZW4gc3RyaW5nIG9mIGBodG1sYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIGphZGVfZW5jb2RlX2h0bWxfcnVsZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7J1xufTtcbnZhciBqYWRlX21hdGNoX2h0bWwgPSAvWyY8PlwiXS9nO1xuXG5mdW5jdGlvbiBqYWRlX2VuY29kZV9jaGFyKGMpIHtcbiAgcmV0dXJuIGphZGVfZW5jb2RlX2h0bWxfcnVsZXNbY10gfHwgYztcbn1cblxuZXhwb3J0cy5lc2NhcGUgPSBqYWRlX2VzY2FwZTtcbmZ1bmN0aW9uIGphZGVfZXNjYXBlKGh0bWwpe1xuICB2YXIgcmVzdWx0ID0gU3RyaW5nKGh0bWwpLnJlcGxhY2UoamFkZV9tYXRjaF9odG1sLCBqYWRlX2VuY29kZV9jaGFyKTtcbiAgaWYgKHJlc3VsdCA9PT0gJycgKyBodG1sKSByZXR1cm4gaHRtbDtcbiAgZWxzZSByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZS10aHJvdyB0aGUgZ2l2ZW4gYGVycmAgaW4gY29udGV4dCB0byB0aGVcbiAqIHRoZSBqYWRlIGluIGBmaWxlbmFtZWAgYXQgdGhlIGdpdmVuIGBsaW5lbm9gLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbGluZW5vXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnJldGhyb3cgPSBmdW5jdGlvbiByZXRocm93KGVyciwgZmlsZW5hbWUsIGxpbmVubywgc3RyKXtcbiAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRXJyb3IpKSB0aHJvdyBlcnI7XG4gIGlmICgodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyB8fCAhZmlsZW5hbWUpICYmICFzdHIpIHtcbiAgICBlcnIubWVzc2FnZSArPSAnIG9uIGxpbmUgJyArIGxpbmVubztcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgdHJ5IHtcbiAgICBzdHIgPSBzdHIgfHwgcmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmMoZmlsZW5hbWUsICd1dGY4JylcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICByZXRocm93KGVyciwgbnVsbCwgbGluZW5vKVxuICB9XG4gIHZhciBjb250ZXh0ID0gM1xuICAgICwgbGluZXMgPSBzdHIuc3BsaXQoJ1xcbicpXG4gICAgLCBzdGFydCA9IE1hdGgubWF4KGxpbmVubyAtIGNvbnRleHQsIDApXG4gICAgLCBlbmQgPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIGxpbmVubyArIGNvbnRleHQpO1xuXG4gIC8vIEVycm9yIGNvbnRleHRcbiAgdmFyIGNvbnRleHQgPSBsaW5lcy5zbGljZShzdGFydCwgZW5kKS5tYXAoZnVuY3Rpb24obGluZSwgaSl7XG4gICAgdmFyIGN1cnIgPSBpICsgc3RhcnQgKyAxO1xuICAgIHJldHVybiAoY3VyciA9PSBsaW5lbm8gPyAnICA+ICcgOiAnICAgICcpXG4gICAgICArIGN1cnJcbiAgICAgICsgJ3wgJ1xuICAgICAgKyBsaW5lO1xuICB9KS5qb2luKCdcXG4nKTtcblxuICAvLyBBbHRlciBleGNlcHRpb24gbWVzc2FnZVxuICBlcnIucGF0aCA9IGZpbGVuYW1lO1xuICBlcnIubWVzc2FnZSA9IChmaWxlbmFtZSB8fCAnSmFkZScpICsgJzonICsgbGluZW5vXG4gICAgKyAnXFxuJyArIGNvbnRleHQgKyAnXFxuXFxuJyArIGVyci5tZXNzYWdlO1xuICB0aHJvdyBlcnI7XG59O1xuXG5leHBvcnRzLkRlYnVnSXRlbSA9IGZ1bmN0aW9uIERlYnVnSXRlbShsaW5lbm8sIGZpbGVuYW1lKSB7XG4gIHRoaXMubGluZW5vID0gbGluZW5vO1xuICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9qYWRlL2xpYi9ydW50aW1lLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogKGlnbm9yZWQpICovXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBmcyAoaWdub3JlZClcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCIvVXNlcnMvc3RldmUvUHJvamVjdHMvTWk5L21vZHVsZXMvbWk5LXRlbXBsYXRlcy1jb21tb24vbm9kZV9tb2R1bGVzL2phZGUvbGliL3J1bnRpbWUuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChtb2RlbCwgcGFydGlhbHMpIHtcbmJ1Zi5wdXNoKFwiPGRpdiBkYXRhLW1vZHVsZT1cXFwidmlkZW9cXFwiXCIgKyAoamFkZS5hdHRyKFwiZGF0YS12aWRlb1wiLCBtb2RlbC51cm4sIHRydWUsIGZhbHNlKSkgKyBcIiBkYXRhLWNhdGVnb3J5LW5hbWU9XFxcIk1TTlZpZGVvX0NhdFxcXCIgZGF0YS1jYXRlZ29yeS12YWx1ZT1cXFwiYXVzeWRuZXlcXFwiIGNsYXNzPVxcXCJ2aWRlby1ibG9jayBtb2R1bGVcXFwiPjxkaXZcIiArIChqYWRlLmF0dHIoXCJpZFwiLCBtb2RlbC52aWRlb0lkLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcInZpZGVvLWJsb2NrX19wbGF5ZXJcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcInZpZGVvLWJsb2NrX19pbWFnZVxcXCI+XCIpO1xuaWYgKCBtb2RlbC5tZWRpYSlcbntcbmJ1Zi5wdXNoKG51bGwgPT0gKGphZGVfaW50ZXJwID0gcGFydGlhbHMuaW1hZ2VSZXNpemVyKHttb2RlbDogbW9kZWwubWVkaWF9KSkgPyBcIlwiIDogamFkZV9pbnRlcnApO1xufVxuYnVmLnB1c2goXCI8L2Rpdj48ZGl2IGNsYXNzPVxcXCJwbGF5XFxcIj48L2Rpdj48L2Rpdj5cIik7fS5jYWxsKHRoaXMsXCJtb2RlbFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgubW9kZWw6dHlwZW9mIG1vZGVsIT09XCJ1bmRlZmluZWRcIj9tb2RlbDp1bmRlZmluZWQsXCJwYXJ0aWFsc1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgucGFydGlhbHM6dHlwZW9mIHBhcnRpYWxzIT09XCJ1bmRlZmluZWRcIj9wYXJ0aWFsczp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvdGVtcGxhdGVzL3ZpZGVvLWJsb2NrLmphZGVcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgamFkZSA9IHJlcXVpcmUoXCIvVXNlcnMvc3RldmUvUHJvamVjdHMvTWk5L21vZHVsZXMvbWk5LXRlbXBsYXRlcy1jb21tb24vbm9kZV9tb2R1bGVzL2phZGUvbGliL3J1bnRpbWUuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVtcGxhdGUobG9jYWxzKSB7XG52YXIgYnVmID0gW107XG52YXIgamFkZV9taXhpbnMgPSB7fTtcbnZhciBqYWRlX2ludGVycDtcbjt2YXIgbG9jYWxzX2Zvcl93aXRoID0gKGxvY2FscyB8fCB7fSk7KGZ1bmN0aW9uIChtb2RlbCkge1xuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5hdHRyKFwiZGF0YS1zcmNcIiwgbW9kZWwudXJsLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImRhdGEtd2lkZ2V0LWlkXCIsIG1vZGVsLndpZGdldElkLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImRhdGEtb2ItdGVtcGxhdGVcIiwgbW9kZWwub2JUZW1wbGF0ZSwgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJPVVRCUkFJTlxcXCI+PC9kaXY+PHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIGFzeW5jPVxcXCJhc3luY1xcXCIgc3JjPVxcXCJodHRwOi8vd2lkZ2V0cy5vdXRicmFpbi5jb20vb3V0YnJhaW4uanNcXFwiPjwvc2NyaXB0PlwiKTt9LmNhbGwodGhpcyxcIm1vZGVsXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5tb2RlbDp0eXBlb2YgbW9kZWwhPT1cInVuZGVmaW5lZFwiP21vZGVsOnVuZGVmaW5lZCkpOztyZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy90ZW1wbGF0ZXMvb3V0YnJhaW4uamFkZVxuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBqYWRlID0gcmVxdWlyZShcIi9Vc2Vycy9zdGV2ZS9Qcm9qZWN0cy9NaTkvbW9kdWxlcy9taTktdGVtcGxhdGVzLWNvbW1vbi9ub2RlX21vZHVsZXMvamFkZS9saWIvcnVudGltZS5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGhlYWRlckFjY2Vzc29yeUxpbmssIGhlYWRlckNvbnRlbnRMaW5rLCBoZWFkZXJMaW5rLCBpbmNsdWRlUGFydGlhbCwgaXRlbXMsIHRpdGxlLCB0cmFja2luZ05hbWUsIHVuZGVmaW5lZCwgd2lkZ2V0Q2xhc3MpIHtcbmphZGVfbWl4aW5zW1wiaGVhZGVyQ29udGVudExpbmtcIl0gPSBqYWRlX2ludGVycCA9IGZ1bmN0aW9uKCl7XG52YXIgYmxvY2sgPSAodGhpcyAmJiB0aGlzLmJsb2NrKSwgYXR0cmlidXRlcyA9ICh0aGlzICYmIHRoaXMuYXR0cmlidXRlcykgfHwge307XG5pZiAoIGhlYWRlckNvbnRlbnRMaW5rKVxue1xuYnVmLnB1c2goXCI8YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgaGVhZGVyQ29udGVudExpbmssIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwiZGF0YS10cmFja2luZy1saW5rLW5hbWVcIiwgXCJcIiArICh0cmFja2luZ05hbWUpICsgXCItaGVhZGVyXCIsIHRydWUsIGZhbHNlKSkgKyBcIj48aDMgY2xhc3M9XFxcIndpZGdldF9faGVhZGVyX190ZXh0XFxcIj5cIiArIChqYWRlLmVzY2FwZShudWxsID09IChqYWRlX2ludGVycCA9IHRpdGxlKSA/IFwiXCIgOiBqYWRlX2ludGVycCkpICsgXCI8L2gzPjwvYT5cIik7XG59XG5lbHNlXG57XG5idWYucHVzaChcIjxoMyBjbGFzcz1cXFwid2lkZ2V0X19oZWFkZXJfX3RleHRcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gdGl0bGUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSkgKyBcIjwvaDM+XCIpO1xufVxufTtcbmphZGVfbWl4aW5zW1wiaGVhZGVyQWNjZXNzb3J5TGlua1wiXSA9IGphZGVfaW50ZXJwID0gZnVuY3Rpb24oKXtcbnZhciBibG9jayA9ICh0aGlzICYmIHRoaXMuYmxvY2spLCBhdHRyaWJ1dGVzID0gKHRoaXMgJiYgdGhpcy5hdHRyaWJ1dGVzKSB8fCB7fTtcbmlmICggaGVhZGVyQWNjZXNzb3J5TGluaylcbntcbmJ1Zi5wdXNoKFwiPGFcIiArIChqYWRlLmF0dHIoXCJocmVmXCIsIGhlYWRlckFjY2Vzc29yeUxpbmssIHRydWUsIGZhbHNlKSkgKyAoamFkZS5hdHRyKFwiZGF0YS10cmFja2luZy1saW5rLW5hbWVcIiwgXCJcIiArICh0cmFja2luZ05hbWUpICsgXCItaGVhZGVyXCIsIHRydWUsIGZhbHNlKSkgKyBcIj48ZGl2IGNsYXNzPVxcXCJ3aWRnZXRfX2hlYWRlcl9fYWNjZXNzb3J5XFxcIj48L2Rpdj48L2E+XCIpO1xufVxuZWxzZVxue1xuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJ3aWRnZXRfX2hlYWRlcl9fYWNjZXNzb3J5XFxcIj48L2Rpdj5cIik7XG59XG59O1xuamFkZV9taXhpbnNbXCJoZWFkZXJMaW5rXCJdID0gamFkZV9pbnRlcnAgPSBmdW5jdGlvbigpe1xudmFyIGJsb2NrID0gKHRoaXMgJiYgdGhpcy5ibG9jayksIGF0dHJpYnV0ZXMgPSAodGhpcyAmJiB0aGlzLmF0dHJpYnV0ZXMpIHx8IHt9O1xuaWYgKCBoZWFkZXJMaW5rKVxue1xuYnVmLnB1c2goXCI8YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgaGVhZGVyTGluaywgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcIlwiICsgKHRyYWNraW5nTmFtZSkgKyBcIi1oZWFkZXJcIiwgdHJ1ZSwgZmFsc2UpKSArIFwiPjxkaXYgY2xhc3M9XFxcIndpZGdldF9faGVhZGVyXFxcIj5cIik7XG5qYWRlX21peGluc1tcImhlYWRlckNvbnRlbnRMaW5rXCJdKCk7XG5qYWRlX21peGluc1tcImhlYWRlckFjY2Vzc29yeUxpbmtcIl0oKTtcbmJ1Zi5wdXNoKFwiPC9kaXY+PC9hPlwiKTtcbn1cbmVsc2VcbntcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwid2lkZ2V0X19oZWFkZXJcXFwiPlwiKTtcbmphZGVfbWl4aW5zW1wiaGVhZGVyQ29udGVudExpbmtcIl0oKTtcbmphZGVfbWl4aW5zW1wiaGVhZGVyQWNjZXNzb3J5TGlua1wiXSgpO1xuYnVmLnB1c2goXCI8L2Rpdj5cIik7XG59XG59O1xuYnVmLnB1c2goXCI8ZGl2IGRhdGEtbW9kdWxlPVxcXCJkZWNvcmF0b3JzL3RyYWNraW5nRGVjb3JhdG9yXFxcIlwiICsgKGphZGUuY2xzKFsnd2lkZ2V0JywnbWVkaWEtbGlzdCcsJ21vZHVsZScsd2lkZ2V0Q2xhc3NdLCBbbnVsbCxudWxsLG51bGwsdHJ1ZV0pKSArIFwiPlwiKTtcbmphZGVfbWl4aW5zW1wiaGVhZGVyTGlua1wiXSgpO1xuLy8gaXRlcmF0ZSBpdGVtc1xuOyhmdW5jdGlvbigpe1xuICB2YXIgJCRvYmogPSBpdGVtcztcbiAgaWYgKCdudW1iZXInID09IHR5cGVvZiAkJG9iai5sZW5ndGgpIHtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMCwgJCRsID0gJCRvYmoubGVuZ3RoOyBpbmRleCA8ICQkbDsgaW5kZXgrKykge1xuICAgICAgdmFyIGl0ZW0gPSAkJG9ialtpbmRleF07XG5cbnZhciBpbWFnZUxpbmsgPSBpdGVtLmltYWdlTGluaztcbnZhciBsaW5rID0gaXRlbS5saW5rO1xudmFyIGhlYWRpbmcgPSBpdGVtLmhlYWRpbmc7XG52YXIgdGV4dCA9IGl0ZW0udGV4dDtcbnZhciBtZWRpYSA9IGl0ZW0uaW1hZ2U7XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcIm1lZGlhLWJsb2NrXFxcIj5cIik7XG5pZiAoIGltYWdlTGluaylcbntcbmJ1Zi5wdXNoKFwiPGFcIiArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcIlwiICsgKHRyYWNraW5nTmFtZSkgKyBcIi1cIiArIChpbmRleCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImhyZWZcIiwgaW1hZ2VMaW5rLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcIm1lZGlhLWJsb2NrX19saW5rXFxcIj48ZGl2IGNsYXNzPVxcXCJtZWRpYS1ibG9ja19fbWVkaWFcXFwiPlwiICsgKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaW5jbHVkZVBhcnRpYWwoJ2ltYWdlLXJlc2l6ZXItZmlndXJlLS1leHQnLCB7bWVkaWE6IG1lZGlhfSkpID8gXCJcIiA6IGphZGVfaW50ZXJwKSArIFwiPC9kaXY+PC9hPlwiKTtcbn1cbmVsc2VcbntcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX21lZGlhXFxcIj5cIiArIChudWxsID09IChqYWRlX2ludGVycCA9IGluY2x1ZGVQYXJ0aWFsKCdpbWFnZS1yZXNpemVyLWZpZ3VyZS0tZXh0Jywge21lZGlhOiBtZWRpYX0pKSA/IFwiXCIgOiBqYWRlX2ludGVycCkgKyBcIjwvZGl2PlwiKTtcbn1cbmlmICggbGluaylcbntcbmJ1Zi5wdXNoKFwiPGFcIiArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcIlwiICsgKHRyYWNraW5nTmFtZSkgKyBcIi1cIiArIChpbmRleCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImhyZWZcIiwgbGluaywgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJtZWRpYS1ibG9ja19fbGlua1xcXCI+PGRpdiBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX2JvZHlcXFwiPjxoMyBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX2hlYWRpbmdcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaGVhZGluZykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC9oMz48cCBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX3RleHRcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gdGV4dCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC9wPjwvZGl2PjwvYT5cIik7XG59XG5idWYucHVzaChcIjwvZGl2PlwiKTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICB2YXIgJCRsID0gMDtcbiAgICBmb3IgKHZhciBpbmRleCBpbiAkJG9iaikge1xuICAgICAgJCRsKys7ICAgICAgdmFyIGl0ZW0gPSAkJG9ialtpbmRleF07XG5cbnZhciBpbWFnZUxpbmsgPSBpdGVtLmltYWdlTGluaztcbnZhciBsaW5rID0gaXRlbS5saW5rO1xudmFyIGhlYWRpbmcgPSBpdGVtLmhlYWRpbmc7XG52YXIgdGV4dCA9IGl0ZW0udGV4dDtcbnZhciBtZWRpYSA9IGl0ZW0uaW1hZ2U7XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcIm1lZGlhLWJsb2NrXFxcIj5cIik7XG5pZiAoIGltYWdlTGluaylcbntcbmJ1Zi5wdXNoKFwiPGFcIiArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcIlwiICsgKHRyYWNraW5nTmFtZSkgKyBcIi1cIiArIChpbmRleCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImhyZWZcIiwgaW1hZ2VMaW5rLCB0cnVlLCBmYWxzZSkpICsgXCIgY2xhc3M9XFxcIm1lZGlhLWJsb2NrX19saW5rXFxcIj48ZGl2IGNsYXNzPVxcXCJtZWRpYS1ibG9ja19fbWVkaWFcXFwiPlwiICsgKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaW5jbHVkZVBhcnRpYWwoJ2ltYWdlLXJlc2l6ZXItZmlndXJlLS1leHQnLCB7bWVkaWE6IG1lZGlhfSkpID8gXCJcIiA6IGphZGVfaW50ZXJwKSArIFwiPC9kaXY+PC9hPlwiKTtcbn1cbmVsc2VcbntcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX21lZGlhXFxcIj5cIiArIChudWxsID09IChqYWRlX2ludGVycCA9IGluY2x1ZGVQYXJ0aWFsKCdpbWFnZS1yZXNpemVyLWZpZ3VyZS0tZXh0Jywge21lZGlhOiBtZWRpYX0pKSA/IFwiXCIgOiBqYWRlX2ludGVycCkgKyBcIjwvZGl2PlwiKTtcbn1cbmlmICggbGluaylcbntcbmJ1Zi5wdXNoKFwiPGFcIiArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcIlwiICsgKHRyYWNraW5nTmFtZSkgKyBcIi1cIiArIChpbmRleCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImhyZWZcIiwgbGluaywgdHJ1ZSwgZmFsc2UpKSArIFwiIGNsYXNzPVxcXCJtZWRpYS1ibG9ja19fbGlua1xcXCI+PGRpdiBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX2JvZHlcXFwiPjxoMyBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX2hlYWRpbmdcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaGVhZGluZykgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC9oMz48cCBjbGFzcz1cXFwibWVkaWEtYmxvY2tfX3RleHRcXFwiPlwiICsgKGphZGUuZXNjYXBlKG51bGwgPT0gKGphZGVfaW50ZXJwID0gdGV4dCkgPyBcIlwiIDogamFkZV9pbnRlcnApKSArIFwiPC9wPjwvZGl2PjwvYT5cIik7XG59XG5idWYucHVzaChcIjwvZGl2PlwiKTtcbiAgICB9XG5cbiAgfVxufSkuY2FsbCh0aGlzKTtcblxuYnVmLnB1c2goXCI8L2Rpdj5cIik7fS5jYWxsKHRoaXMsXCJoZWFkZXJBY2Nlc3NvcnlMaW5rXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5oZWFkZXJBY2Nlc3NvcnlMaW5rOnR5cGVvZiBoZWFkZXJBY2Nlc3NvcnlMaW5rIT09XCJ1bmRlZmluZWRcIj9oZWFkZXJBY2Nlc3NvcnlMaW5rOnVuZGVmaW5lZCxcImhlYWRlckNvbnRlbnRMaW5rXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC5oZWFkZXJDb250ZW50TGluazp0eXBlb2YgaGVhZGVyQ29udGVudExpbmshPT1cInVuZGVmaW5lZFwiP2hlYWRlckNvbnRlbnRMaW5rOnVuZGVmaW5lZCxcImhlYWRlckxpbmtcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmhlYWRlckxpbms6dHlwZW9mIGhlYWRlckxpbmshPT1cInVuZGVmaW5lZFwiP2hlYWRlckxpbms6dW5kZWZpbmVkLFwiaW5jbHVkZVBhcnRpYWxcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmluY2x1ZGVQYXJ0aWFsOnR5cGVvZiBpbmNsdWRlUGFydGlhbCE9PVwidW5kZWZpbmVkXCI/aW5jbHVkZVBhcnRpYWw6dW5kZWZpbmVkLFwiaXRlbXNcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLml0ZW1zOnR5cGVvZiBpdGVtcyE9PVwidW5kZWZpbmVkXCI/aXRlbXM6dW5kZWZpbmVkLFwidGl0bGVcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnRpdGxlOnR5cGVvZiB0aXRsZSE9PVwidW5kZWZpbmVkXCI/dGl0bGU6dW5kZWZpbmVkLFwidHJhY2tpbmdOYW1lXCIgaW4gbG9jYWxzX2Zvcl93aXRoP2xvY2Fsc19mb3Jfd2l0aC50cmFja2luZ05hbWU6dHlwZW9mIHRyYWNraW5nTmFtZSE9PVwidW5kZWZpbmVkXCI/dHJhY2tpbmdOYW1lOnVuZGVmaW5lZCxcInVuZGVmaW5lZFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudW5kZWZpbmVkOnR5cGVvZiB1bmRlZmluZWQhPT1cInVuZGVmaW5lZFwiP3VuZGVmaW5lZDp1bmRlZmluZWQsXCJ3aWRnZXRDbGFzc1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgud2lkZ2V0Q2xhc3M6dHlwZW9mIHdpZGdldENsYXNzIT09XCJ1bmRlZmluZWRcIj93aWRnZXRDbGFzczp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvdGVtcGxhdGVzL21lZGlhLWxpc3QuamFkZVxuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBqYWRlID0gcmVxdWlyZShcIi9Vc2Vycy9zdGV2ZS9Qcm9qZWN0cy9NaTkvbW9kdWxlcy9taTktdGVtcGxhdGVzLWNvbW1vbi9ub2RlX21vZHVsZXMvamFkZS9saWIvcnVudGltZS5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGZhY2Vib29rVXJsLCBpbmNsdWRlUGFydGlhbCwgbGlua3MsIHR3aXR0ZXJVcmwsIHVuZGVmaW5lZCkge1xuamFkZV9taXhpbnNbXCJnYWxsZXJ5QWRcIl0gPSBqYWRlX2ludGVycCA9IGZ1bmN0aW9uKCl7XG52YXIgYmxvY2sgPSAodGhpcyAmJiB0aGlzLmJsb2NrKSwgYXR0cmlidXRlcyA9ICh0aGlzICYmIHRoaXMuYXR0cmlidXRlcykgfHwge307XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImdhbGxlcnlfX3V0aWxpdHktYWRcXFwiPlwiICsgKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaW5jbHVkZVBhcnRpYWwoJ2FkLS1leHQnLCB7YWRUeXBlOiAnTUVESVVNJywgbG9jYXRpb246ICdUT1AuMScsIGNsYXNzZXM6ICdtb2R1bGUnLCBtb2R1bGVEZWNvcmF0b3I6ICdkZWZhdWx0LmFkJywgbW9kdWxlSWQ6ICdkZWZhdWx0LmZvb3Rlci5hZCcsIG1pbldpZHRoOiAnNzY4J30pKSA/IFwiXCIgOiBqYWRlX2ludGVycCkgKyBcIjwvZGl2PlwiKTtcbn07XG5idWYucHVzaChcIjxkaXYgaWQ9XFxcImZvb3RlclxcXCIgZGF0YS1tb2R1bGU9XFxcImRlY29yYXRvcnMvdHJhY2tpbmdEZWNvcmF0b3JcXFwiIGNsYXNzPVxcXCJmb290ZXJfX2NvbnRhaW5lciBtb2R1bGVcXFwiPjxkaXYgZGF0YS1tb2R1bGU9XFxcImRlY29yYXRvcnMvZml4ZWRGb290ZXJEZWNvcmF0b3JcXFwiIGRhdGEtYW5jaG9yPVxcXCIjZm9vdGVyXFxcIiBjbGFzcz1cXFwiZm9vdGVyIG1vZHVsZVxcXCI+XCIpO1xuamFkZV9taXhpbnNbXCJnYWxsZXJ5QWRcIl0oKTtcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwiZm9vdGVyX19oZWFkZXJcXFwiPjxhIGhyZWY9XFxcIi9cXFwiIGRhdGEtdHJhY2tpbmctbGluay1uYW1lPVxcXCJmb290ZXJfbG9nb1xcXCIgY2xhc3M9XFxcImZvb3Rlcl9fbG9nb1xcXCI+PC9hPjxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIlwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgZmFjZWJvb2tVcmwsIHRydWUsIGZhbHNlKSkgKyBcIiBkYXRhLXRyYWNraW5nLWxpbmstbmFtZT1cXFwiZm9vdGVyX2ZhY2Vib29rXFxcIiBjbGFzcz1cXFwiZm9vdGVyX19saW5rX19mYWNlYm9va1xcXCI+PC9hPjxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIlwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgdHdpdHRlclVybCwgdHJ1ZSwgZmFsc2UpKSArIFwiIGRhdGEtdHJhY2tpbmctbGluay1uYW1lPVxcXCJmb290ZXJfdHdpdHRlclxcXCIgY2xhc3M9XFxcImZvb3Rlcl9fbGlua19fdHdpdHRlclxcXCI+PC9hPjwvZGl2PjxkaXYgY2xhc3M9XFxcImZvb3Rlcl9fbGlua3NcXFwiPjx1bCBjbGFzcz1cXFwiZm9vdGVyX19saXN0XFxcIj5cIik7XG4vLyBpdGVyYXRlIGxpbmtzXG47KGZ1bmN0aW9uKCl7XG4gIHZhciAkJG9iaiA9IGxpbmtzO1xuICBpZiAoJ251bWJlcicgPT0gdHlwZW9mICQkb2JqLmxlbmd0aCkge1xuXG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCAkJGwgPSAkJG9iai5sZW5ndGg7IGluZGV4IDwgJCRsOyBpbmRleCsrKSB7XG4gICAgICB2YXIgbGluayA9ICQkb2JqW2luZGV4XTtcblxuYnVmLnB1c2goXCI8bGkgY2xhc3M9XFxcImZvb3Rlcl9faXRlbVxcXCI+PGFcIiArIChqYWRlLmF0dHIoXCJocmVmXCIsIGxpbmsudXJsLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcInRpdGxlXCIsIGxpbmsuX25hbWUsIHRydWUsIGZhbHNlKSkgKyBcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIiArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcImZvb3Rlci1cIiArIChpbmRleCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCI+XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gbGluay5fbmFtZSkgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9hPjwvbGk+XCIpO1xuICAgIH1cblxuICB9IGVsc2Uge1xuICAgIHZhciAkJGwgPSAwO1xuICAgIGZvciAodmFyIGluZGV4IGluICQkb2JqKSB7XG4gICAgICAkJGwrKzsgICAgICB2YXIgbGluayA9ICQkb2JqW2luZGV4XTtcblxuYnVmLnB1c2goXCI8bGkgY2xhc3M9XFxcImZvb3Rlcl9faXRlbVxcXCI+PGFcIiArIChqYWRlLmF0dHIoXCJocmVmXCIsIGxpbmsudXJsLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcInRpdGxlXCIsIGxpbmsuX25hbWUsIHRydWUsIGZhbHNlKSkgKyBcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIiArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcImZvb3Rlci1cIiArIChpbmRleCkgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgXCI+XCIgKyAoamFkZS5lc2NhcGUoKGphZGVfaW50ZXJwID0gbGluay5fbmFtZSkgPT0gbnVsbCA/ICcnIDogamFkZV9pbnRlcnApKSArIFwiPC9hPjwvbGk+XCIpO1xuICAgIH1cblxuICB9XG59KS5jYWxsKHRoaXMpO1xuXG5idWYucHVzaChcIjwvdWw+PGEgaHJlZj1cXFwiI1xcXCIgZGF0YS10cmFja2luZy1saW5rLW5hbWU9XFxcImZvb3Rlcl9iYWNrdG90b3BcXFwiIGNsYXNzPVxcXCJmb290ZXJfX3RvcC1saW5rXFxcIj48ZGl2IGNsYXNzPVxcXCJmb290ZXJfX3RvcC1saW5rLS1pY29uXFxcIj48L2Rpdj48L2E+PC9kaXY+PC9kaXY+PC9kaXY+XCIpO30uY2FsbCh0aGlzLFwiZmFjZWJvb2tVcmxcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmZhY2Vib29rVXJsOnR5cGVvZiBmYWNlYm9va1VybCE9PVwidW5kZWZpbmVkXCI/ZmFjZWJvb2tVcmw6dW5kZWZpbmVkLFwiaW5jbHVkZVBhcnRpYWxcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmluY2x1ZGVQYXJ0aWFsOnR5cGVvZiBpbmNsdWRlUGFydGlhbCE9PVwidW5kZWZpbmVkXCI/aW5jbHVkZVBhcnRpYWw6dW5kZWZpbmVkLFwibGlua3NcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmxpbmtzOnR5cGVvZiBsaW5rcyE9PVwidW5kZWZpbmVkXCI/bGlua3M6dW5kZWZpbmVkLFwidHdpdHRlclVybFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGgudHdpdHRlclVybDp0eXBlb2YgdHdpdHRlclVybCE9PVwidW5kZWZpbmVkXCI/dHdpdHRlclVybDp1bmRlZmluZWQsXCJ1bmRlZmluZWRcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnVuZGVmaW5lZDp0eXBlb2YgdW5kZWZpbmVkIT09XCJ1bmRlZmluZWRcIj91bmRlZmluZWQ6dW5kZWZpbmVkKSk7O3JldHVybiBidWYuam9pbihcIlwiKTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3RlbXBsYXRlcy9mb290ZXIuamFkZVxuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBqYWRlID0gcmVxdWlyZShcIi9Vc2Vycy9zdGV2ZS9Qcm9qZWN0cy9NaTkvbW9kdWxlcy9taTktdGVtcGxhdGVzLWNvbW1vbi9ub2RlX21vZHVsZXMvamFkZS9saWIvcnVudGltZS5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZW1wbGF0ZShsb2NhbHMpIHtcbnZhciBidWYgPSBbXTtcbnZhciBqYWRlX21peGlucyA9IHt9O1xudmFyIGphZGVfaW50ZXJwO1xuO3ZhciBsb2NhbHNfZm9yX3dpdGggPSAobG9jYWxzIHx8IHt9KTsoZnVuY3Rpb24gKGNsYW1wLCBpbmNsdWRlUGFydGlhbCwga2lja2VyLCBzZXR0aW5ncywgc3RvcnlCbG9jaykge1xuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5hdHRyKFwiZGF0YS1jb250ZW50LWlkXCIsIHN0b3J5QmxvY2suaWQsIHRydWUsIGZhbHNlKSkgKyAoamFkZS5jbHMoWydzdG9yeWJsb2NrJywhc3RvcnlCbG9jay5pbWFnZSA/ICdoYXMtbm8taW1hZ2UnIDogJyddLCBbbnVsbCx0cnVlXSkpICsgXCI+XCIpO1xuaWYgKCBzdG9yeUJsb2NrLmltYWdlKVxue1xuYnVmLnB1c2goXCI8YVwiICsgKGphZGUuYXR0cihcImhyZWZcIiwgXCJcIiArIChzdG9yeUJsb2NrLmxpbmspICsgXCJcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmF0dHIoXCJkYXRhLXRyYWNraW5nLWxpbmstbmFtZVwiLCBcImZlZWRfXCIgKyAoc3RvcnlCbG9jay50ZW1wbGF0ZU5hbWUpICsgXCJfaW1hZ2VcIiwgdHJ1ZSwgZmFsc2UpKSArIChqYWRlLmNscyhbXCJzdG9yeS1ibG9ja19faW1hZ2UgaGVybyBcIiArIChzdG9yeUJsb2NrLnRlbXBsYXRlTmFtZSkgKyBcIiBcIiArIChzdG9yeUJsb2NrLnBvcnRyYWl0Q2xhc3NlcykgKyBcIiBcIiArIChzdG9yeUJsb2NrLnBvcnRyYWl0SGVybykgKyBcIlwiXSwgW3RydWVdKSkgKyBcIj5cIik7XG5pZiAoIGtpY2tlcilcbntcbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwic3RvcnktYmxvY2tfX2tpY2tlci1vdXRlclxcXCI+PGRpdiBjbGFzcz1cXFwic3RvcnktYmxvY2tfX2tpY2tlclxcXCI+PC9kaXY+PC9kaXY+XCIpO1xufVxuYnVmLnB1c2goKG51bGwgPT0gKGphZGVfaW50ZXJwID0gaW5jbHVkZVBhcnRpYWwoJ2ltYWdlLXJlc2l6ZXItZmlndXJlLS1leHQnLCB7bWVkaWE6IHN0b3J5QmxvY2suaW1hZ2V9KSkgPyBcIlwiIDogamFkZV9pbnRlcnApICsgXCI8L2E+XCIpO1xufVxuYnVmLnB1c2goXCI8ZGl2XCIgKyAoamFkZS5jbHMoWyd0ZXh0LXdyYXBwZXInLGNsYW1wXSwgW251bGwsdHJ1ZV0pKSArIFwiPjxhXCIgKyAoamFkZS5hdHRyKFwiaHJlZlwiLCBcIlwiICsgKHN0b3J5QmxvY2subGluaykgKyBcIlwiLCB0cnVlLCBmYWxzZSkpICsgKGphZGUuYXR0cihcImRhdGEtdHJhY2tpbmctbGluay1uYW1lXCIsIFwiZmVlZF9cIiArIChzdG9yeUJsb2NrLnRlbXBsYXRlTmFtZSkgKyBcIl9oZWFkaW5lXCIsIHRydWUsIGZhbHNlKSkgKyBcIiBjbGFzcz1cXFwiaGVhZGluZy1saW5rXFxcIj5cIik7XG5pZiAoICFzdG9yeUJsb2NrLmltYWdlICYmIHN0b3J5QmxvY2sua2lja2VyKVxue1xuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJzdG9yeS1ibG9ja19fa2lja2VyLW91dGVyXFxcIj48ZGl2IGNsYXNzPVxcXCJzdG9yeS1ibG9ja19fa2lja2VyXFxcIj5cIiArIChudWxsID09IChqYWRlX2ludGVycCA9IHN0b3J5QmxvY2sua2lja2VyKSA/IFwiXCIgOiBqYWRlX2ludGVycCkgKyBcIjwvZGl2PjwvZGl2PlwiKTtcbn1cbmJ1Zi5wdXNoKFwiPGRpdiBjbGFzcz1cXFwic3RvcnktYmxvY2tfX2hlYWRsaW5lXFxcIj5cIiArIChudWxsID09IChqYWRlX2ludGVycCA9IHN0b3J5QmxvY2suaGVhZGxpbmUpID8gXCJcIiA6IGphZGVfaW50ZXJwKSArIFwiPC9kaXY+PC9hPjxwIGNsYXNzPVxcXCJzdG9yeS1ibG9ja19fc3RhbmRmaXJzdFxcXCI+XCIgKyAobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBzdG9yeUJsb2NrLnN0YW5kZmlyc3QpID8gXCJcIiA6IGphZGVfaW50ZXJwKSArIFwiPC9wPjwvZGl2PjxkaXYgY2xhc3M9XFxcInN0b3J5LWJsb2NrX19ieWxpbmVcXFwiPlwiKTtcbmlmICggc3RvcnlCbG9jay5zZWN0aW9uVGFnKVxue1xuYnVmLnB1c2goXCI8ZGl2IGNsYXNzPVxcXCJzdG9yeS1ibG9ja19fc2VjdGlvbi10YWdcXFwiPlwiICsgKG51bGwgPT0gKGphZGVfaW50ZXJwID0gc3RvcnlCbG9jay5zZWN0aW9uVGFnKSA/IFwiXCIgOiBqYWRlX2ludGVycCkgKyBcIjwvZGl2PlwiKTtcbn1cbmlmICggc3RvcnlCbG9jay5hdXRob3IpXG57XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcImF1dGhvclxcXCI+PHNwYW4+Qnk8L3NwYW4+PHNwYW4gY2xhc3M9XFxcImF1dGhvcl9fbmFtZVxcXCI+XCIgKyAobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBzdG9yeUJsb2NrLmF1dGhvcikgPyBcIlwiIDogamFkZV9pbnRlcnApICsgXCI8L3NwYW4+PC9kaXY+XCIpO1xufVxuYnVmLnB1c2goXCI8c3BhbiBjbGFzcz1cXFwic3RvcnktYmxvY2tfX3RpbWUgdGltZVxcXCI+XCIpO1xuaWYgKCBzdG9yeUJsb2NrLmRpc3BsYXlUaW1lKVxue1xuYnVmLnB1c2gobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBzdG9yeUJsb2NrLmRpc3BsYXlUaW1lKSA/IFwiXCIgOiBqYWRlX2ludGVycCk7XG59XG5idWYucHVzaChcIjwvc3Bhbj5cIik7XG5pZiAoIHNldHRpbmdzLmVuYWJsZUdpZ3lhU2hhcmluZ0J1dHRvbnMpXG57XG5idWYucHVzaChcIjxkaXYgY2xhc3M9XFxcInN0b3J5LWJsb2NrX19zaGFyZSBzaGFyZS0tc2ltcGxlXFxcIj5cIik7XG5zdG9yeUJsb2NrLmlzVGFrZW92ZXIgPSB0cnVlXG5idWYucHVzaCgobnVsbCA9PSAoamFkZV9pbnRlcnAgPSBpbmNsdWRlUGFydGlhbCgnc2hhcmUtLWV4dCcsIHtjb250ZW50OiBzdG9yeUJsb2NrfSkpID8gXCJcIiA6IGphZGVfaW50ZXJwKSArIFwiPC9kaXY+XCIpO1xufVxuYnVmLnB1c2goXCI8L2Rpdj48L2Rpdj5cIik7fS5jYWxsKHRoaXMsXCJjbGFtcFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguY2xhbXA6dHlwZW9mIGNsYW1wIT09XCJ1bmRlZmluZWRcIj9jbGFtcDp1bmRlZmluZWQsXCJpbmNsdWRlUGFydGlhbFwiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguaW5jbHVkZVBhcnRpYWw6dHlwZW9mIGluY2x1ZGVQYXJ0aWFsIT09XCJ1bmRlZmluZWRcIj9pbmNsdWRlUGFydGlhbDp1bmRlZmluZWQsXCJraWNrZXJcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLmtpY2tlcjp0eXBlb2Yga2lja2VyIT09XCJ1bmRlZmluZWRcIj9raWNrZXI6dW5kZWZpbmVkLFwic2V0dGluZ3NcIiBpbiBsb2NhbHNfZm9yX3dpdGg/bG9jYWxzX2Zvcl93aXRoLnNldHRpbmdzOnR5cGVvZiBzZXR0aW5ncyE9PVwidW5kZWZpbmVkXCI/c2V0dGluZ3M6dW5kZWZpbmVkLFwic3RvcnlCbG9ja1wiIGluIGxvY2Fsc19mb3Jfd2l0aD9sb2NhbHNfZm9yX3dpdGguc3RvcnlCbG9jazp0eXBlb2Ygc3RvcnlCbG9jayE9PVwidW5kZWZpbmVkXCI/c3RvcnlCbG9jazp1bmRlZmluZWQpKTs7cmV0dXJuIGJ1Zi5qb2luKFwiXCIpO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvdGVtcGxhdGVzL3N0b3J5LWJsb2NrLmphZGVcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9