block media-list
    mixin headerContentLink
        if headerContentLink
            a(href=headerContentLink, data-tracking-link-name="#{trackingName}-header")
                h3.widget__header__text= title
        else
            h3.widget__header__text= title

    mixin headerAccessoryLink
        if headerAccessoryLink
            a(href=headerAccessoryLink, data-tracking-link-name="#{trackingName}-header")
                .widget__header__accessory
        else
            .widget__header__accessory

    mixin headerLink
        if headerLink
            a(href=headerLink, data-tracking-link-name="#{trackingName}-header")
                .widget__header
                    +headerContentLink()
                    +headerAccessoryLink()
        else
            .widget__header
                +headerContentLink()
                +headerAccessoryLink()

    .widget.media-list.module(class=widgetClass, data-module='decorators/trackingDecorator')
        +headerLink()

        each item, index in items
            - var imageLink = item.imageLink;
            - var link = item.link;
            - var heading = item.heading;
            - var text = item.text;
            - var media = item.image;

            .media-block
                if imageLink
                    a.media-block__link(data-tracking-link-name="#{trackingName}-#{index}", href=imageLink)
                        .media-block__media
                            != includePartial('image-resizer-figure--ext', {media: media})
                else
                    .media-block__media
                        != includePartial('image-resizer-figure--ext', {media: media})
                if link
                    a.media-block__link(data-tracking-link-name="#{trackingName}-#{index}", href=link)
                        .media-block__body
                            h3.media-block__heading= heading
                            p.media-block__text= text
