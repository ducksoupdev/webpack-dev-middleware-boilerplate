# Mi9 Module Class
This is the base class every `mi9` module should inherit from
This class brings in `mixins` and `dependency injections` features to all modules

## Mixins

###### Usage example

```coffee
Module = require 'mi9-module'

class MyHelper
    @staticHelper: ->
        console.log 'Static helper'

    instanceHelper: ->
        console.log 'Instance helper'

class MyModule extends Module
    @extend MyHelper  # Adds the static methods from MyHelper class into MyModule
    @include MyHelper # Adds the instance methods from MyHelper class into MyModule

    constructor: ->
        _private: 'secret'

    moduleMethod: ->
        console.log 'Module method'

MyModule.staticHelper()     # prints - Static helper
myModule = new MyModule()
myModule.instanceHelper()   # prints - Instance helper
myModule.moduleMethod()     # prints - Module method

```

## Dependency Injector

###### Usage example in an mi9 npm module 

* Define dependencies

`npm - mi9-demo-module`
```coffee
Module = require 'mi9-module'

class DemoModule extends Module
    @dependencies {
        config: new @Dependency 'Environment config'
    }

    constructor: ->
        @config.server.connect()

module.exports = DemoModule
```

* Register dependencies

Inject the dependencies to the `mi9-demo-module` from the project

`file: dependencies.coffee`

```coffee
DemoModule = require  'mi9-demo-module'

DemoModule.registerDependencies {
    config: require('mi9-environment').get()
}
```

* Connect with the app

`file: app.coffee`
```coffee
require './dependencies'

express = require 'express'
....
```

### Notes
##### Dependency Injector
* All mi9 modules should extend from the `Module (mi9-module)` class
* The dependencies method should be passed with an object holding pairs of key and instance of `Class.Dependency`
 * The key would be made available as an instance variable once the dependencies are injected.
* Unmet dependencies would throw an error at runtime. eg 
```
Error: [Dependency]: Unmet dependency some module
```
* The current dependency injector forces all the dependencies to be injected at once and not partially
* Extraneous dependencies will be silently ignored.

